<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Matematika AI</title>

  <!-- Favicon -->
  <link rel="icon" href="favicon.ico" type="image/x-icon" />

  <!-- FontAwesome & Main Styles -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
  <link rel="stylesheet" href="style.css" />

  <!-- MathJax Configuration with [ ... ] support -->
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)'], ['[', ']']]
      },
      svg: { fontCache: 'global' }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  <!-- Re-render MathJax on chatbot message updates -->
 <script>
  document.addEventListener("DOMContentLoaded", () => {
    const targetSelector = ".widget-window__MessagesContainer-sc-f1226038-0";

    function waitForChatbotMessages() {
      const messageContainer = document.querySelector(targetSelector);

      if (messageContainer && window.MathJax) {
        let scheduled = false;

        const observer = new MutationObserver((mutationsList) => {
          const newContent = mutationsList.some(m => m.addedNodes.length > 0);
          if (newContent && !scheduled) {
            scheduled = true;
            requestAnimationFrame(() => {
              MathJax.typesetPromise()
                .then(() => {
                  scheduled = false;
                  console.log("✅ MathJax re-rendered on new message");
                })
                .catch(err => {
                  scheduled = false;
                  console.error("❌ MathJax error:", err);
                });
            });
          }
        });

        observer.observe(messageContainer, { childList: true, subtree: true });
        MathJax.typesetPromise(); // Initial render

      } else {
        setTimeout(waitForChatbotMessages, 500); // Retry until chatbot loads
      }
    }

    waitForChatbotMessages();
  });
</script>

 <script>
  let isRendering = false;

  setInterval(() => {
    if (window.MathJax && !isRendering) {
      isRendering = true;
      MathJax.typesetPromise()
        .then(() => {
          isRendering = false;
          console.log("🔁 MathJax rendered (3s interval)");
        })
        .catch(err => {
          isRendering = false;
          console.error("MathJax error:", err);
        });
    }
  }, 3000); // Now every 3 seconds
</script>




</head>

<body>

    <!-- Loading Screen -->
    <div class="loading-screen">
        <div class="loader"></div>
    </div>

    <!-- Cursor Effect -->
    <div class="custom-cursor"></div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="logo glow-text">Matematika AI</div>
        <div class="nav-toggle">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </div>
        <ul class="nav-links">
            <li><a href="#home" class="glow-link">Pradžia</a></li>
            <li><a href="#about" class="glow-link">Matematiukas</a></li>
            <li><a href="#projects" class="glow-link">Patarimai</a></li>
            <li><a href="#contact" class="glow-link"></a></li>
        </ul>
        <button id="theme-toggle" class="theme-toggle glow-button">
            <i class="fas fa-moon"></i>
        </button>
    </nav>

    <!-- Notification System -->
    <div id="notification" class="notification"></div>

    <!-- Home Section -->
    <section id="home" class="home">
        <div class="particle-background"></div>
        <div class="content">
            <h1 class="glitch" data-text="Creative Developer">Matematika AI</h1>
            <p class="typing-text"></p><br/>
            <div class="cta-buttons"></div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="about">
        <h2 class="section-title glow-text">Matematiukas</h2>
        <div class="about-content">
            <div class="profile-card" data-tilt>
                <p> </p>
                <p> </p>
                <p> </p>
                <p>Susipažink su išmaniuoju matematikos padėjėju Matematiuku!</p>
                <p> </p>
                <p> </p>
                <p>Tiesiog paspausk roboto mygtuką. Jis yra apačioje, dešinėje pusėje.</p>
                <p> </p>
                <p> </p>
                <p>Jei nežinai kaip naudotis Matematiuku, pasižiūrėk patarimus!</p>
                <p> </p>
                <p> </p>
                <p>Esu įsitikinęs, jog ten rasi naudingos informacijos</p>
                <p> </p>
                <p> </p>
                <p> </p>
                
               
            </div>
        </div>
    </section>

    <!-- Projects Section -->
    <section id="projects" class="projects">
        <h2 class="section-title glow-text">Patarimai</h2>
        <div class="filter-buttons">
            <button class="filter-btn" data-filter="web">Tikslesni atsakymai</button>
            <button class="filter-btn" data-filter="app">Atvira komunikacija</button>
            <button class="filter-btn" data-filter="design">Matematiukas dirba jums</button>
        </div>
        <div class="project-card" data-category="web">
            <div class="text-box">
                <h3>Formuluokite klausimus aiškiai ir konkrečiai.</h3>
                <p>Užuot rašę „padėk su uždaviniu“, pabandykite:
„Esu 8 klasėje, mokausi apie kvadratines lygtis, ir nesuprantu, kaip rasti diskriminantą. Gal gali padėti ir paaiškinti šią temą žingsnis po žingsnio?“
Tokiu būdu gausite tiksliausią atsakymą.</p>
          
            </div>
        </div>
        <div class="project-card" data-category="app">
            <h3>Nepamirškite, kad dirbtinis intelektas geriausiai padeda tada, kai bendradarbiaujate!</h3>
            <p>Kuo aiškiau aprašysite užduotį ir nurodysite, ką jau žinote ar kas kelia sunkumų, tuo geriau Matematiukas galės jums padėti. Nesidrovėkite: užduokite klausimus, išbandykite skirtingus užklausų formatus ir mokykitės kartu su pagalba, kuri pritaikyta būtent jūsų matematikos temai.</p>

        </div>
        <div class="project-card" data-category="design">
            <h3>Pritaikykite Matematiuką pagal save – jis mokosi iš jūsų įžvalgų!</h3>
            <p>Kai duodate grįžtamąjį ryšį (pvz., „buvo naudinga“ arba „norėčiau paprastesnio paaiškinimo“), pagalbininkas prisitaiko. Tai reiškia, kad kiekvienas pokalbis gali būti vis labiau pritaikytas jūsų mokymosi stiliui.</p>

        </div>
      <div style="height: 600px;"></div>
    </section>

    <!-- Footer Section -->
    <footer class="footer">
        <p>&copy; 2025 Matematika AI.</p>
    </footer>

    <!-- JavaScript -->
    <script src="script.js"></script>

    <!-- Elfsight AI Chatbot -->
    <script src="https://static.elfsight.com/platform/platform.js" async></script>
    <div class="elfsight-app-53d68f67-a4ea-4aa8-8706-bf244fadf6b1" data-elfsight-app-lazy></div>
</body>
</html>
